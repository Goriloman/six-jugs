(() => { "use strict"; const e = {}; let t = (e, t = 500, s = 0) => { e.classList.contains("_slide") || (e.classList.add("_slide"), e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = `${e.offsetHeight}px`, e.offsetHeight, e.style.overflow = "hidden", e.style.height = s ? `${s}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, window.setTimeout((() => { e.hidden = !s, !s && e.style.removeProperty("height"), e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), !s && e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide"), document.dispatchEvent(new CustomEvent("slideUpDone", { detail: { target: e } })) }), t)) }, s = (e, t = 500, s = 0) => { if (!e.classList.contains("_slide")) { e.classList.add("_slide"), e.hidden = !e.hidden && null, s && e.style.removeProperty("height"); let n = e.offsetHeight; e.style.overflow = "hidden", e.style.height = s ? `${s}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, e.offsetHeight, e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = n + "px", e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), window.setTimeout((() => { e.style.removeProperty("height"), e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide"), document.dispatchEvent(new CustomEvent("slideDownDone", { detail: { target: e } })) }), t) } }, n = (e, n = 500) => e.hidden ? s(e, n) : t(e, n), i = !0, o = (e = 500) => { document.documentElement.classList.contains("lock") ? r(e) : l(e) }, r = (e = 500) => { let t = document.querySelector("body"); if (i) { let s = document.querySelectorAll("[data-lp]"); setTimeout((() => { for (let e = 0; e < s.length; e++) { s[e].style.paddingRight = "0px" } t.style.paddingRight = "0px", document.documentElement.classList.remove("lock") }), e), i = !1, setTimeout((function () { i = !0 }), e) } }, l = (e = 500) => { let t = document.querySelector("body"); if (i) { let s = document.querySelectorAll("[data-lp]"); for (let e = 0; e < s.length; e++) { s[e].style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px" } t.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px", document.documentElement.classList.add("lock"), i = !1, setTimeout((function () { i = !0 }), e) } }; let a = { getErrors(e) { let t = 0, s = e.querySelectorAll("*[data-required]"); return s.length && s.forEach((e => { null === e.offsetParent && "SELECT" !== e.tagName || e.disabled || (t += this.validateInput(e)) })), t }, validateInput(e) { let t = 0; return "email" === e.dataset.required ? (e.value = e.value.replace(" ", ""), this.emailTest(e) ? (this.addError(e), t++) : this.removeError(e)) : ("checkbox" !== e.type || e.checked) && e.value.trim() ? this.removeError(e) : (this.addError(e), t++), t }, addError(e) { e.classList.add("_form-error"), e.parentElement.classList.add("_form-error"); let t = e.parentElement.querySelector(".form__error"); t && e.parentElement.removeChild(t), e.dataset.error && e.parentElement.insertAdjacentHTML("beforeend", `<div class="form__error">${e.dataset.error}</div>`) }, removeError(e) { e.classList.remove("_form-error"), e.parentElement.classList.remove("_form-error"), e.parentElement.querySelector(".form__error") && e.parentElement.removeChild(e.parentElement.querySelector(".form__error")) }, formClean(t) { t.reset(), setTimeout((() => { let s = t.querySelectorAll("input,textarea"); for (let e = 0; e < s.length; e++) { const t = s[e]; t.parentElement.classList.remove("_form-focus"), t.classList.remove("_form-focus"), a.removeError(t) } let n = t.querySelectorAll(".checkbox__input"); if (n.length > 0) for (let e = 0; e < n.length; e++) { n[e].checked = !1 } if (e.select) { let s = t.querySelectorAll(".select"); if (s.length) for (let t = 0; t < s.length; t++) { const n = s[t].querySelector("select"); e.select.selectBuild(n) } } }), 0) }, emailTest: e => !/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value) }; var c, u; function d(e) { return "object" == typeof e && "function" == typeof e.to } function p(e) { e.parentElement.removeChild(e) } function h(e) { return null != e } function m(e) { e.preventDefault() } function f(e) { return "number" == typeof e && !isNaN(e) && isFinite(e) } function g(e, t, s) { s > 0 && (b(e, t), setTimeout((function () { E(e, t) }), s)) } function S(e) { return Math.max(Math.min(e, 100), 0) } function v(e) { return Array.isArray(e) ? e : [e] } function y(e) { var t = (e = String(e)).split("."); return t.length > 1 ? t[1].length : 0 } function b(e, t) { e.classList && !/\s/.test(t) ? e.classList.add(t) : e.className += " " + t } function E(e, t) { e.classList && !/\s/.test(t) ? e.classList.remove(t) : e.className = e.className.replace(new RegExp("(^|\\b)" + t.split(" ").join("|") + "(\\b|$)", "gi"), " ") } function x(e) { var t = void 0 !== window.pageXOffset, s = "CSS1Compat" === (e.compatMode || ""); return { x: t ? window.pageXOffset : s ? e.documentElement.scrollLeft : e.body.scrollLeft, y: t ? window.pageYOffset : s ? e.documentElement.scrollTop : e.body.scrollTop } } function C(e, t) { return 100 / (t - e) } function w(e, t, s) { return 100 * t / (e[s + 1] - e[s]) } function A(e, t) { for (var s = 1; e >= t[s];)s += 1; return s } function _(e, t, s) { if (s >= e.slice(-1)[0]) return 100; var n = A(s, e), i = e[n - 1], o = e[n], r = t[n - 1], l = t[n]; return r + function (e, t) { return w(e, e[0] < 0 ? t + Math.abs(e[0]) : t - e[0], 0) }([i, o], s) / C(r, l) } function L(e, t, s, n) { if (100 === n) return n; var i = A(n, e), o = e[i - 1], r = e[i]; return s ? n - o > (r - o) / 2 ? r : o : t[i - 1] ? e[i - 1] + function (e, t) { return Math.round(e / t) * t }(n - e[i - 1], t[i - 1]) : n } e.select = new class { constructor(e, t = null) { if (this.config = Object.assign({ init: !0, logging: !0 }, e), this.selectClasses = { classSelect: "select", classSelectBody: "select__body", classSelectTitle: "select__title", classSelectValue: "select__value", classSelectLabel: "select__label", classSelectInput: "select__input", classSelectText: "select__text", classSelectLink: "select__link", classSelectOptions: "select__options", classSelectOptionsScroll: "select__scroll", classSelectOption: "select__option", classSelectContent: "select__content", classSelectRow: "select__row", classSelectData: "select__asset", classSelectDisabled: "_select-disabled", classSelectTag: "_select-tag", classSelectOpen: "_select-open", classSelectActive: "_select-active", classSelectFocus: "_select-focus", classSelectMultiple: "_select-multiple", classSelectCheckBox: "_select-checkbox", classSelectOptionSelected: "_select-selected", classSelectPseudoLabel: "_select-pseudo-label" }, this._this = this, this.config.init) { const e = t ? document.querySelectorAll(t) : document.querySelectorAll("select"); e.length ? (this.selectsInit(e), this.setLogging(`Проснулся, построил селектов: (${e.length})`)) : this.setLogging("Сплю, нет ни одного select zzZZZzZZz") } } getSelectClass(e) { return `.${e}` } getSelectElement(e, t) { return { originalSelect: e.querySelector("select"), selectElement: e.querySelector(this.getSelectClass(t)) } } selectsInit(e) { e.forEach(((e, t) => { this.selectInit(e, t + 1) })), document.addEventListener("click", function (e) { this.selectsActions(e) }.bind(this)), document.addEventListener("keydown", function (e) { this.selectsActions(e) }.bind(this)), document.addEventListener("focusin", function (e) { this.selectsActions(e) }.bind(this)), document.addEventListener("focusout", function (e) { this.selectsActions(e) }.bind(this)) } selectInit(e, t) { const s = this; let n = document.createElement("div"); if (n.classList.add(this.selectClasses.classSelect), e.parentNode.insertBefore(n, e), n.appendChild(e), e.hidden = !0, t && (e.dataset.id = t), this.getSelectPlaceholder(e) && (e.dataset.placeholder = this.getSelectPlaceholder(e).value, this.getSelectPlaceholder(e).label.show)) { this.getSelectElement(n, this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin", `<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text ? this.getSelectPlaceholder(e).label.text : this.getSelectPlaceholder(e).value}</span>`) } n.insertAdjacentHTML("beforeend", `<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`), this.selectBuild(e), e.dataset.speed = e.dataset.speed ? e.dataset.speed : "150", e.addEventListener("change", (function (e) { s.selectChange(e) })) } selectBuild(e) { const t = e.parentElement; t.dataset.id = e.dataset.id, e.dataset.classModif && t.classList.add(`select_${e.dataset.classModif}`), e.multiple ? t.classList.add(this.selectClasses.classSelectMultiple) : t.classList.remove(this.selectClasses.classSelectMultiple), e.hasAttribute("data-checkbox") && e.multiple ? t.classList.add(this.selectClasses.classSelectCheckBox) : t.classList.remove(this.selectClasses.classSelectCheckBox), this.setSelectTitleValue(t, e), this.setOptions(t, e), e.hasAttribute("data-search") && this.searchActions(t), e.hasAttribute("data-open") && this.selectAction(t), this.selectDisabled(t, e) } selectsActions(e) { const t = e.target, s = e.type; if (t.closest(this.getSelectClass(this.selectClasses.classSelect)) || t.closest(this.getSelectClass(this.selectClasses.classSelectTag))) { const n = t.closest(".select") ? t.closest(".select") : document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`), i = this.getSelectElement(n).originalSelect; if ("click" === s) { if (!i.disabled) if (t.closest(this.getSelectClass(this.selectClasses.classSelectTag))) { const e = t.closest(this.getSelectClass(this.selectClasses.classSelectTag)), s = document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`); this.optionAction(n, i, s) } else if (t.closest(this.getSelectClass(this.selectClasses.classSelectTitle))) this.selectAction(n); else if (t.closest(this.getSelectClass(this.selectClasses.classSelectOption))) { const e = t.closest(this.getSelectClass(this.selectClasses.classSelectOption)); this.optionAction(n, i, e) } } else "focusin" === s || "focusout" === s ? t.closest(this.getSelectClass(this.selectClasses.classSelect)) && ("focusin" === s ? n.classList.add(this.selectClasses.classSelectFocus) : n.classList.remove(this.selectClasses.classSelectFocus)) : "keydown" === s && "Escape" === e.code && this.selectsСlose() } else this.selectsСlose() } selectsСlose(e) { const t = (e || document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`); t.length && t.forEach((e => { this.selectСlose(e) })) } selectСlose(e) { const s = this.getSelectElement(e).originalSelect, n = this.getSelectElement(e, this.selectClasses.classSelectOptions).selectElement; n.classList.contains("_slide") || (e.classList.remove(this.selectClasses.classSelectOpen), t(n, s.dataset.speed)) } selectAction(e) { const t = this.getSelectElement(e).originalSelect, s = this.getSelectElement(e, this.selectClasses.classSelectOptions).selectElement; if (t.closest("[data-one-select]")) { const e = t.closest("[data-one-select]"); this.selectsСlose(e) } s.classList.contains("_slide") || (e.classList.toggle(this.selectClasses.classSelectOpen), n(s, t.dataset.speed)) } setSelectTitleValue(e, t) { const s = this.getSelectElement(e, this.selectClasses.classSelectBody).selectElement, n = this.getSelectElement(e, this.selectClasses.classSelectTitle).selectElement; n && n.remove(), s.insertAdjacentHTML("afterbegin", this.getSelectTitleValue(e, t)) } getSelectTitleValue(e, t) { let s = this.getSelectedOptionsData(t, 2).html; t.multiple && t.hasAttribute("data-tags") && (s = this.getSelectedOptionsData(t).elements.map((t => `<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""), t.dataset.tags && document.querySelector(t.dataset.tags) && (document.querySelector(t.dataset.tags).innerHTML = s, t.hasAttribute("data-search") && (s = !1))), s = s.length ? s : t.dataset.placeholder ? t.dataset.placeholder : ""; let n = "", i = ""; if (t.hasAttribute("data-pseudo-label") && (n = t.dataset.pseudoLabel ? ` data-pseudo-label="${t.dataset.pseudoLabel}"` : ' data-pseudo-label="Заполните атрибут"', i = ` ${this.selectClasses.classSelectPseudoLabel}`), this.getSelectedOptionsData(t).values.length ? e.classList.add(this.selectClasses.classSelectActive) : e.classList.remove(this.selectClasses.classSelectActive), t.hasAttribute("data-search")) return `<div class="${this.selectClasses.classSelectTitle}"><span${n} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`; { const e = this.getSelectedOptionsData(t).elements.length && this.getSelectedOptionsData(t).elements[0].dataset.class ? ` ${this.getSelectedOptionsData(t).elements[0].dataset.class}` : ""; return `<button type="button" class="${this.selectClasses.classSelectTitle}"><span${n} class="${this.selectClasses.classSelectValue}${i}"><span class="${this.selectClasses.classSelectContent}${e}">${s}</span></span></button>` } } getSelectElementContent(e) { const t = e.dataset.asset ? `${e.dataset.asset}` : "", s = t.indexOf("img") >= 0 ? `<img src="${t}" alt="">` : t; let n = ""; return n += t ? `<span class="${this.selectClasses.classSelectRow}">` : "", n += t ? `<span class="${this.selectClasses.classSelectData}">` : "", n += t ? s : "", n += t ? "</span>" : "", n += t ? `<span class="${this.selectClasses.classSelectText}">` : "", n += e.textContent, n += t ? "</span>" : "", n += t ? "</span>" : "", n } getSelectPlaceholder(e) { const t = Array.from(e.options).find((e => !e.value)); if (t) return { value: t.textContent, show: t.hasAttribute("data-show"), label: { show: t.hasAttribute("data-label"), text: t.dataset.label } } } getSelectedOptionsData(e, t) { let s = []; return e.multiple ? s = Array.from(e.options).filter((e => e.value)).filter((e => e.selected)) : s.push(e.options[e.selectedIndex]), { elements: s.map((e => e)), values: s.filter((e => e.value)).map((e => e.value)), html: s.map((e => this.getSelectElementContent(e))) } } getOptions(e) { let t = e.hasAttribute("data-scroll") ? "data-simplebar" : "", s = e.dataset.scroll ? `style="max-height:${e.dataset.scroll}px"` : "", n = Array.from(e.options); if (n.length > 0) { let i = ""; return (this.getSelectPlaceholder(e) && !this.getSelectPlaceholder(e).show || e.multiple) && (n = n.filter((e => e.value))), i += t ? `<div ${t} ${s} class="${this.selectClasses.classSelectOptionsScroll}">` : "", n.forEach((t => { i += this.getOption(t, e) })), i += t ? "</div>" : "", i } } getOption(e, t) { const s = e.selected && t.multiple ? ` ${this.selectClasses.classSelectOptionSelected}` : "", n = !e.selected || t.hasAttribute("data-show-selected") || t.multiple ? "" : "hidden", i = e.dataset.class ? ` ${e.dataset.class}` : "", o = !!e.dataset.href && e.dataset.href, r = e.hasAttribute("data-href-blank") ? 'target="_blank"' : ""; let l = ""; return l += o ? `<a ${r} ${n} href="${o}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${i}${s}">` : `<button ${n} class="${this.selectClasses.classSelectOption}${i}${s}" data-value="${e.value}" type="button">`, l += this.getSelectElementContent(e), l += o ? "</a>" : "</button>", l } setOptions(e, t) { this.getSelectElement(e, this.selectClasses.classSelectOptions).selectElement.innerHTML = this.getOptions(t) } optionAction(e, t, s) { if (t.multiple) { s.classList.toggle(this.selectClasses.classSelectOptionSelected); this.getSelectedOptionsData(t).elements.forEach((e => { e.removeAttribute("selected") })); e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e => { t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected", "selected") })) } else t.hasAttribute("data-show-selected") || (e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`) && (e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden = !1), s.hidden = !0), t.value = s.hasAttribute("data-value") ? s.dataset.value : s.textContent, this.selectAction(e); this.setSelectTitleValue(e, t), this.setSelectChange(t) } selectChange(e) { const t = e.target; this.selectBuild(t), this.setSelectChange(t) } setSelectChange(e) { if (e.hasAttribute("data-validate") && a.validateInput(e), e.hasAttribute("data-submit") && e.value) { let t = document.createElement("button"); t.type = "submit", e.closest("form").append(t), t.click(), t.remove() } const t = e.parentElement; this.selectCallback(t, e) } selectDisabled(e, t) { t.disabled ? (e.classList.add(this.selectClasses.classSelectDisabled), this.getSelectElement(e, this.selectClasses.classSelectTitle).selectElement.disabled = !0) : (e.classList.remove(this.selectClasses.classSelectDisabled), this.getSelectElement(e, this.selectClasses.classSelectTitle).selectElement.disabled = !1) } searchActions(e) { this.getSelectElement(e).originalSelect; const t = this.getSelectElement(e, this.selectClasses.classSelectInput).selectElement, s = this.getSelectElement(e, this.selectClasses.classSelectOptions).selectElement, n = s.querySelectorAll(`.${this.selectClasses.classSelectOption}`), i = this; t.addEventListener("input", (function () { n.forEach((e => { e.textContent.toUpperCase().indexOf(t.value.toUpperCase()) >= 0 ? e.hidden = !1 : e.hidden = !0 })), !0 === s.hidden && i.selectAction(e) })) } selectCallback(e, t) { document.dispatchEvent(new CustomEvent("selectCallback", { detail: { select: t } })) } setLogging(e) { this.config.logging && function (e) { setTimeout((() => { window.FLS && console.log(e) }), 0) }(`[select]: ${e}`) } }({}), function (e) { e.Range = "range", e.Steps = "steps", e.Positions = "positions", e.Count = "count", e.Values = "values" }(c || (c = {})), function (e) { e[e.None = -1] = "None", e[e.NoValue = 0] = "NoValue", e[e.LargeValue = 1] = "LargeValue", e[e.SmallValue = 2] = "SmallValue" }(u || (u = {})); var P = function () { function e(e, t, s) { var n; this.xPct = [], this.xVal = [], this.xSteps = [], this.xNumSteps = [], this.xHighestCompleteStep = [], this.xSteps = [s || !1], this.xNumSteps = [!1], this.snap = t; var i = []; for (Object.keys(e).forEach((function (t) { i.push([v(e[t]), t]) })), i.sort((function (e, t) { return e[0][0] - t[0][0] })), n = 0; n < i.length; n++)this.handleEntryPoint(i[n][1], i[n][0]); for (this.xNumSteps = this.xSteps.slice(0), n = 0; n < this.xNumSteps.length; n++)this.handleStepPoint(n, this.xNumSteps[n]) } return e.prototype.getDistance = function (e) { for (var t = [], s = 0; s < this.xNumSteps.length - 1; s++)t[s] = w(this.xVal, e, s); return t }, e.prototype.getAbsoluteDistance = function (e, t, s) { var n, i = 0; if (e < this.xPct[this.xPct.length - 1]) for (; e > this.xPct[i + 1];)i++; else e === this.xPct[this.xPct.length - 1] && (i = this.xPct.length - 2); s || e !== this.xPct[i + 1] || i++, null === t && (t = []); var o = 1, r = t[i], l = 0, a = 0, c = 0, u = 0; for (n = s ? (e - this.xPct[i]) / (this.xPct[i + 1] - this.xPct[i]) : (this.xPct[i + 1] - e) / (this.xPct[i + 1] - this.xPct[i]); r > 0;)l = this.xPct[i + 1 + u] - this.xPct[i + u], t[i + u] * o + 100 - 100 * n > 100 ? (a = l * n, o = (r - 100 * n) / t[i + u], n = 1) : (a = t[i + u] * l / 100 * o, o = 0), s ? (c -= a, this.xPct.length + u >= 1 && u--) : (c += a, this.xPct.length - u >= 1 && u++), r = t[i + u] * o; return e + c }, e.prototype.toStepping = function (e) { return e = _(this.xVal, this.xPct, e) }, e.prototype.fromStepping = function (e) { return function (e, t, s) { if (s >= 100) return e.slice(-1)[0]; var n = A(s, t), i = e[n - 1], o = e[n], r = t[n - 1]; return function (e, t) { return t * (e[1] - e[0]) / 100 + e[0] }([i, o], (s - r) * C(r, t[n])) }(this.xVal, this.xPct, e) }, e.prototype.getStep = function (e) { return e = L(this.xPct, this.xSteps, this.snap, e) }, e.prototype.getDefaultStep = function (e, t, s) { var n = A(e, this.xPct); return (100 === e || t && e === this.xPct[n - 1]) && (n = Math.max(n - 1, 1)), (this.xVal[n] - this.xVal[n - 1]) / s }, e.prototype.getNearbySteps = function (e) { var t = A(e, this.xPct); return { stepBefore: { startValue: this.xVal[t - 2], step: this.xNumSteps[t - 2], highestStep: this.xHighestCompleteStep[t - 2] }, thisStep: { startValue: this.xVal[t - 1], step: this.xNumSteps[t - 1], highestStep: this.xHighestCompleteStep[t - 1] }, stepAfter: { startValue: this.xVal[t], step: this.xNumSteps[t], highestStep: this.xHighestCompleteStep[t] } } }, e.prototype.countStepDecimals = function () { var e = this.xNumSteps.map(y); return Math.max.apply(null, e) }, e.prototype.hasNoSize = function () { return this.xVal[0] === this.xVal[this.xVal.length - 1] }, e.prototype.convert = function (e) { return this.getStep(this.toStepping(e)) }, e.prototype.handleEntryPoint = function (e, t) { var s; if (!f(s = "min" === e ? 0 : "max" === e ? 100 : parseFloat(e)) || !f(t[0])) throw new Error("noUiSlider: 'range' value isn't numeric."); this.xPct.push(s), this.xVal.push(t[0]); var n = Number(t[1]); s ? this.xSteps.push(!isNaN(n) && n) : isNaN(n) || (this.xSteps[0] = n), this.xHighestCompleteStep.push(0) }, e.prototype.handleStepPoint = function (e, t) { if (t) if (this.xVal[e] !== this.xVal[e + 1]) { this.xSteps[e] = w([this.xVal[e], this.xVal[e + 1]], t, 0) / C(this.xPct[e], this.xPct[e + 1]); var s = (this.xVal[e + 1] - this.xVal[e]) / this.xNumSteps[e], n = Math.ceil(Number(s.toFixed(3)) - 1), i = this.xVal[e] + this.xNumSteps[e] * n; this.xHighestCompleteStep[e] = i } else this.xSteps[e] = this.xHighestCompleteStep[e] = this.xVal[e] }, e }(), O = { to: function (e) { return void 0 === e ? "" : e.toFixed(2) }, from: Number }, N = { target: "target", base: "base", origin: "origin", handle: "handle", handleLower: "handle-lower", handleUpper: "handle-upper", touchArea: "touch-area", horizontal: "horizontal", vertical: "vertical", background: "background", connect: "connect", connects: "connects", ltr: "ltr", rtl: "rtl", textDirectionLtr: "txt-dir-ltr", textDirectionRtl: "txt-dir-rtl", draggable: "draggable", drag: "state-drag", tap: "state-tap", active: "active", tooltip: "tooltip", pips: "pips", pipsHorizontal: "pips-horizontal", pipsVertical: "pips-vertical", marker: "marker", markerHorizontal: "marker-horizontal", markerVertical: "marker-vertical", markerNormal: "marker-normal", markerLarge: "marker-large", markerSub: "marker-sub", value: "value", valueHorizontal: "value-horizontal", valueVertical: "value-vertical", valueNormal: "value-normal", valueLarge: "value-large", valueSub: "value-sub" }, $ = { tooltips: ".__tooltips", aria: ".__aria" }; function k(e, t) { if (!f(t)) throw new Error("noUiSlider: 'step' is not numeric."); e.singleStep = t } function T(e, t) { if (!f(t)) throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric."); e.keyboardPageMultiplier = t } function D(e, t) { if (!f(t)) throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric."); e.keyboardMultiplier = t } function V(e, t) { if (!f(t)) throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric."); e.keyboardDefaultStep = t } function j(e, t) { if ("object" != typeof t || Array.isArray(t)) throw new Error("noUiSlider: 'range' is not an object."); if (void 0 === t.min || void 0 === t.max) throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'."); e.spectrum = new P(t, e.snap || !1, e.singleStep) } function M(e, t) { if (t = v(t), !Array.isArray(t) || !t.length) throw new Error("noUiSlider: 'start' option is incorrect."); e.handles = t.length, e.start = t } function U(e, t) { if ("boolean" != typeof t) throw new Error("noUiSlider: 'snap' option must be a boolean."); e.snap = t } function q(e, t) { if ("boolean" != typeof t) throw new Error("noUiSlider: 'animate' option must be a boolean."); e.animate = t } function H(e, t) { if ("number" != typeof t) throw new Error("noUiSlider: 'animationDuration' option must be a number."); e.animationDuration = t } function I(e, t) { var s, n = [!1]; if ("lower" === t ? t = [!0, !1] : "upper" === t && (t = [!1, !0]), !0 === t || !1 === t) { for (s = 1; s < e.handles; s++)n.push(t); n.push(!1) } else { if (!Array.isArray(t) || !t.length || t.length !== e.handles + 1) throw new Error("noUiSlider: 'connect' option doesn't match handle count."); n = t } e.connect = n } function F(e, t) { switch (t) { case "horizontal": e.ort = 0; break; case "vertical": e.ort = 1; break; default: throw new Error("noUiSlider: 'orientation' option is invalid.") } } function R(e, t) { if (!f(t)) throw new Error("noUiSlider: 'margin' option must be numeric."); 0 !== t && (e.margin = e.spectrum.getDistance(t)) } function z(e, t) { if (!f(t)) throw new Error("noUiSlider: 'limit' option must be numeric."); if (e.limit = e.spectrum.getDistance(t), !e.limit || e.handles < 2) throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.") } function B(e, t) { var s; if (!f(t) && !Array.isArray(t)) throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers."); if (Array.isArray(t) && 2 !== t.length && !f(t[0]) && !f(t[1])) throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers."); if (0 !== t) { for (Array.isArray(t) || (t = [t, t]), e.padding = [e.spectrum.getDistance(t[0]), e.spectrum.getDistance(t[1])], s = 0; s < e.spectrum.xNumSteps.length - 1; s++)if (e.padding[0][s] < 0 || e.padding[1][s] < 0) throw new Error("noUiSlider: 'padding' option must be a positive number(s)."); var n = t[0] + t[1], i = e.spectrum.xVal[0]; if (n / (e.spectrum.xVal[e.spectrum.xVal.length - 1] - i) > 1) throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.") } } function W(e, t) { switch (t) { case "ltr": e.dir = 0; break; case "rtl": e.dir = 1; break; default: throw new Error("noUiSlider: 'direction' option was not recognized.") } } function X(e, t) { if ("string" != typeof t) throw new Error("noUiSlider: 'behaviour' must be a string containing options."); var s = t.indexOf("tap") >= 0, n = t.indexOf("drag") >= 0, i = t.indexOf("fixed") >= 0, o = t.indexOf("snap") >= 0, r = t.indexOf("hover") >= 0, l = t.indexOf("unconstrained") >= 0, a = t.indexOf("drag-all") >= 0, c = t.indexOf("smooth-steps") >= 0; if (i) { if (2 !== e.handles) throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles"); R(e, e.start[1] - e.start[0]) } if (l && (e.margin || e.limit)) throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit"); e.events = { tap: s || o, drag: n, dragAll: a, smoothSteps: c, fixed: i, snap: o, hover: r, unconstrained: l } } function Y(e, t) { if (!1 !== t) if (!0 === t || d(t)) { e.tooltips = []; for (var s = 0; s < e.handles; s++)e.tooltips.push(t) } else { if ((t = v(t)).length !== e.handles) throw new Error("noUiSlider: must pass a formatter for all handles."); t.forEach((function (e) { if ("boolean" != typeof e && !d(e)) throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.") })), e.tooltips = t } } function Z(e, t) { if (t.length !== e.handles) throw new Error("noUiSlider: must pass a attributes for all handles."); e.handleAttributes = t } function J(e, t) { if (!d(t)) throw new Error("noUiSlider: 'ariaFormat' requires 'to' method."); e.ariaFormat = t } function G(e, t) { if (!function (e) { return d(e) && "function" == typeof e.from }(t)) throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods."); e.format = t } function Q(e, t) { if ("boolean" != typeof t) throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean."); e.keyboardSupport = t } function K(e, t) { e.documentElement = t } function ee(e, t) { if ("string" != typeof t && !1 !== t) throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`."); e.cssPrefix = t } function te(e, t) { if ("object" != typeof t) throw new Error("noUiSlider: 'cssClasses' must be an object."); "string" == typeof e.cssPrefix ? (e.cssClasses = {}, Object.keys(t).forEach((function (s) { e.cssClasses[s] = e.cssPrefix + t[s] }))) : e.cssClasses = t } function se(e) { var t = { margin: null, limit: null, padding: null, animate: !0, animationDuration: 300, ariaFormat: O, format: O }, s = { step: { r: !1, t: k }, keyboardPageMultiplier: { r: !1, t: T }, keyboardMultiplier: { r: !1, t: D }, keyboardDefaultStep: { r: !1, t: V }, start: { r: !0, t: M }, connect: { r: !0, t: I }, direction: { r: !0, t: W }, snap: { r: !1, t: U }, animate: { r: !1, t: q }, animationDuration: { r: !1, t: H }, range: { r: !0, t: j }, orientation: { r: !1, t: F }, margin: { r: !1, t: R }, limit: { r: !1, t: z }, padding: { r: !1, t: B }, behaviour: { r: !0, t: X }, ariaFormat: { r: !1, t: J }, format: { r: !1, t: G }, tooltips: { r: !1, t: Y }, keyboardSupport: { r: !0, t: Q }, documentElement: { r: !1, t: K }, cssPrefix: { r: !0, t: ee }, cssClasses: { r: !0, t: te }, handleAttributes: { r: !1, t: Z } }, n = { connect: !1, direction: "ltr", behaviour: "tap", orientation: "horizontal", keyboardSupport: !0, cssPrefix: "noUi-", cssClasses: N, keyboardPageMultiplier: 5, keyboardMultiplier: 1, keyboardDefaultStep: 10 }; e.format && !e.ariaFormat && (e.ariaFormat = e.format), Object.keys(s).forEach((function (i) { if (h(e[i]) || void 0 !== n[i]) s[i].t(t, h(e[i]) ? e[i] : n[i]); else if (s[i].r) throw new Error("noUiSlider: '" + i + "' is required.") })), t.pips = e.pips; var i = document.createElement("div"), o = void 0 !== i.style.msTransform, r = void 0 !== i.style.transform; t.transformRule = r ? "transform" : o ? "msTransform" : "webkitTransform"; return t.style = [["left", "top"], ["right", "bottom"]][t.dir][t.ort], t } function ne(e, t, s) { var n, i, o, r, l, a, d, f = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" }, y = window.CSS && CSS.supports && CSS.supports("touch-action", "none") && function () { var e = !1; try { var t = Object.defineProperty({}, "passive", { get: function () { e = !0 } }); window.addEventListener("test", null, t) } catch (e) { } return e }(), C = e, w = t.spectrum, A = [], _ = [], L = [], P = 0, O = {}, N = e.ownerDocument, k = t.documentElement || N.documentElement, T = N.body, D = "rtl" === N.dir || 1 === t.ort ? 0 : 100; function V(e, t) { var s = N.createElement("div"); return t && b(s, t), e.appendChild(s), s } function j(e, s) { var n = V(e, t.cssClasses.origin), i = V(n, t.cssClasses.handle); if (V(i, t.cssClasses.touchArea), i.setAttribute("data-handle", String(s)), t.keyboardSupport && (i.setAttribute("tabindex", "0"), i.addEventListener("keydown", (function (e) { return function (e, s) { if (q() || H(s)) return !1; var n = ["Left", "Right"], i = ["Down", "Up"], o = ["PageDown", "PageUp"], r = ["Home", "End"]; t.dir && !t.ort ? n.reverse() : t.ort && !t.dir && (i.reverse(), o.reverse()); var l, a = e.key.replace("Arrow", ""), c = a === o[0], u = a === o[1], d = a === i[0] || a === n[0] || c, p = a === i[1] || a === n[1] || u, h = a === r[0], m = a === r[1]; if (!(d || p || h || m)) return !0; if (e.preventDefault(), p || d) { var f = d ? 0 : 1, g = Se(s)[f]; if (null === g) return !1; !1 === g && (g = w.getDefaultStep(_[s], d, t.keyboardDefaultStep)), g *= u || c ? t.keyboardPageMultiplier : t.keyboardMultiplier, g = Math.max(g, 1e-7), g *= d ? -1 : 1, l = A[s] + g } else l = m ? t.spectrum.xVal[t.spectrum.xVal.length - 1] : t.spectrum.xVal[0]; return pe(s, w.toStepping(l), !0, !0), re("slide", s), re("update", s), re("change", s), re("set", s), !1 }(e, s) }))), void 0 !== t.handleAttributes) { var o = t.handleAttributes[s]; Object.keys(o).forEach((function (e) { i.setAttribute(e, o[e]) })) } return i.setAttribute("role", "slider"), i.setAttribute("aria-orientation", t.ort ? "vertical" : "horizontal"), 0 === s ? b(i, t.cssClasses.handleLower) : s === t.handles - 1 && b(i, t.cssClasses.handleUpper), n.handle = i, n } function M(e, s) { return !!s && V(e, t.cssClasses.connect) } function U(e, s) { return !(!t.tooltips || !t.tooltips[s]) && V(e.firstChild, t.cssClasses.tooltip) } function q() { return C.hasAttribute("disabled") } function H(e) { return i[e].hasAttribute("disabled") } function I() { l && (oe("update" + $.tooltips), l.forEach((function (e) { e && p(e) })), l = null) } function F() { I(), l = i.map(U), ie("update" + $.tooltips, (function (e, s, n) { if (l && t.tooltips && !1 !== l[s]) { var i = e[s]; !0 !== t.tooltips[s] && (i = t.tooltips[s].to(n[s])), l[s].innerHTML = i } })) } function R(e, t) { return e.map((function (e) { return w.fromStepping(t ? w.getStep(e) : e) })) } function z(e) { var t, s = function (e) { if (e.mode === c.Range || e.mode === c.Steps) return w.xVal; if (e.mode === c.Count) { if (e.values < 2) throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'."); for (var t = e.values - 1, s = 100 / t, n = []; t--;)n[t] = t * s; return n.push(100), R(n, e.stepped) } return e.mode === c.Positions ? R(e.values, e.stepped) : e.mode === c.Values ? e.stepped ? e.values.map((function (e) { return w.fromStepping(w.getStep(w.toStepping(e))) })) : e.values : [] }(e), n = {}, i = w.xVal[0], o = w.xVal[w.xVal.length - 1], r = !1, l = !1, a = 0; return t = s.slice().sort((function (e, t) { return e - t })), (s = t.filter((function (e) { return !this[e] && (this[e] = !0) }), {}))[0] !== i && (s.unshift(i), r = !0), s[s.length - 1] !== o && (s.push(o), l = !0), s.forEach((function (t, i) { var o, d, p, h, m, f, g, S, v, y, b = t, E = s[i + 1], x = e.mode === c.Steps; for (x && (o = w.xNumSteps[i]), o || (o = E - b), void 0 === E && (E = b), o = Math.max(o, 1e-7), d = b; d <= E; d = Number((d + o).toFixed(7))) { for (S = (m = (h = w.toStepping(d)) - a) / (e.density || 1), y = m / (v = Math.round(S)), p = 1; p <= v; p += 1)n[(f = a + p * y).toFixed(5)] = [w.fromStepping(f), 0]; g = s.indexOf(d) > -1 ? u.LargeValue : x ? u.SmallValue : u.NoValue, !i && r && d !== E && (g = 0), d === E && l || (n[h.toFixed(5)] = [d, g]), a = h } })), n } function B(e, s, n) { var i, o, r = N.createElement("div"), l = ((i = {})[u.None] = "", i[u.NoValue] = t.cssClasses.valueNormal, i[u.LargeValue] = t.cssClasses.valueLarge, i[u.SmallValue] = t.cssClasses.valueSub, i), a = ((o = {})[u.None] = "", o[u.NoValue] = t.cssClasses.markerNormal, o[u.LargeValue] = t.cssClasses.markerLarge, o[u.SmallValue] = t.cssClasses.markerSub, o), c = [t.cssClasses.valueHorizontal, t.cssClasses.valueVertical], d = [t.cssClasses.markerHorizontal, t.cssClasses.markerVertical]; function p(e, s) { var n = s === t.cssClasses.value, i = n ? l : a; return s + " " + (n ? c : d)[t.ort] + " " + i[e] } return b(r, t.cssClasses.pips), b(r, 0 === t.ort ? t.cssClasses.pipsHorizontal : t.cssClasses.pipsVertical), Object.keys(e).forEach((function (i) { !function (e, i, o) { if ((o = s ? s(i, o) : o) !== u.None) { var l = V(r, !1); l.className = p(o, t.cssClasses.marker), l.style[t.style] = e + "%", o > u.NoValue && ((l = V(r, !1)).className = p(o, t.cssClasses.value), l.setAttribute("data-value", String(i)), l.style[t.style] = e + "%", l.innerHTML = String(n.to(i))) } }(i, e[i][0], e[i][1]) })), r } function W() { r && (p(r), r = null) } function X(e) { W(); var t = z(e), s = e.filter, n = e.format || { to: function (e) { return String(Math.round(e)) } }; return r = C.appendChild(B(t, s, n)) } function Y() { var e = n.getBoundingClientRect(), s = "offset" + ["Width", "Height"][t.ort]; return 0 === t.ort ? e.width || n[s] : e.height || n[s] } function Z(e, s, n, i) { var o = function (o) { var r, l, a = function (e, t, s) { var n = 0 === e.type.indexOf("touch"), i = 0 === e.type.indexOf("mouse"), o = 0 === e.type.indexOf("pointer"), r = 0, l = 0; 0 === e.type.indexOf("MSPointer") && (o = !0); if ("mousedown" === e.type && !e.buttons && !e.touches) return !1; if (n) { var a = function (t) { var n = t.target; return n === s || s.contains(n) || e.composed && e.composedPath().shift() === s }; if ("touchstart" === e.type) { var c = Array.prototype.filter.call(e.touches, a); if (c.length > 1) return !1; r = c[0].pageX, l = c[0].pageY } else { var u = Array.prototype.find.call(e.changedTouches, a); if (!u) return !1; r = u.pageX, l = u.pageY } } t = t || x(N), (i || o) && (r = e.clientX + t.x, l = e.clientY + t.y); return e.pageOffset = t, e.points = [r, l], e.cursor = i || o, e }(o, i.pageOffset, i.target || s); return !!a && (!(q() && !i.doNotReject) && (r = C, l = t.cssClasses.tap, !((r.classList ? r.classList.contains(l) : new RegExp("\\b" + l + "\\b").test(r.className)) && !i.doNotReject) && (!(e === f.start && void 0 !== a.buttons && a.buttons > 1) && ((!i.hover || !a.buttons) && (y || a.preventDefault(), a.calcPoint = a.points[t.ort], void n(a, i)))))) }, r = []; return e.split(" ").forEach((function (e) { s.addEventListener(e, o, !!y && { passive: !0 }), r.push([e, o]) })), r } function J(e) { var s, i, o, r, l, a, c = 100 * (e - (s = n, i = t.ort, o = s.getBoundingClientRect(), r = s.ownerDocument, l = r.documentElement, a = x(r), /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (a.x = 0), i ? o.top + a.y - l.clientTop : o.left + a.x - l.clientLeft)) / Y(); return c = S(c), t.dir ? 100 - c : c } function G(e, t) { "mouseout" === e.type && "HTML" === e.target.nodeName && null === e.relatedTarget && K(e, t) } function Q(e, s) { if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === e.buttons && 0 !== s.buttonsProperty) return K(e, s); var n = (t.dir ? -1 : 1) * (e.calcPoint - s.startCalcPoint); ce(n > 0, 100 * n / s.baseSize, s.locations, s.handleNumbers, s.connect) } function K(e, s) { s.handle && (E(s.handle, t.cssClasses.active), P -= 1), s.listeners.forEach((function (e) { k.removeEventListener(e[0], e[1]) })), 0 === P && (E(C, t.cssClasses.drag), de(), e.cursor && (T.style.cursor = "", T.removeEventListener("selectstart", m))), t.events.smoothSteps && (s.handleNumbers.forEach((function (e) { pe(e, _[e], !0, !0, !1, !1) })), s.handleNumbers.forEach((function (e) { re("update", e) }))), s.handleNumbers.forEach((function (e) { re("change", e), re("set", e), re("end", e) })) } function ee(e, s) { if (!s.handleNumbers.some(H)) { var n; if (1 === s.handleNumbers.length) n = i[s.handleNumbers[0]].children[0], P += 1, b(n, t.cssClasses.active); e.stopPropagation(); var o = [], r = Z(f.move, k, Q, { target: e.target, handle: n, connect: s.connect, listeners: o, startCalcPoint: e.calcPoint, baseSize: Y(), pageOffset: e.pageOffset, handleNumbers: s.handleNumbers, buttonsProperty: e.buttons, locations: _.slice() }), l = Z(f.end, k, K, { target: e.target, handle: n, listeners: o, doNotReject: !0, handleNumbers: s.handleNumbers }), a = Z("mouseout", k, G, { target: e.target, handle: n, listeners: o, doNotReject: !0, handleNumbers: s.handleNumbers }); o.push.apply(o, r.concat(l, a)), e.cursor && (T.style.cursor = getComputedStyle(e.target).cursor, i.length > 1 && b(C, t.cssClasses.drag), T.addEventListener("selectstart", m, !1)), s.handleNumbers.forEach((function (e) { re("start", e) })) } } function te(e) { e.stopPropagation(); var s = J(e.calcPoint), n = function (e) { var t = 100, s = !1; return i.forEach((function (n, i) { if (!H(i)) { var o = _[i], r = Math.abs(o - e); (r < t || r <= t && e > o || 100 === r && 100 === t) && (s = i, t = r) } })), s }(s); !1 !== n && (t.events.snap || g(C, t.cssClasses.tap, t.animationDuration), pe(n, s, !0, !0), de(), re("slide", n, !0), re("update", n, !0), t.events.snap ? ee(e, { handleNumbers: [n] }) : (re("change", n, !0), re("set", n, !0))) } function ne(e) { var t = J(e.calcPoint), s = w.getStep(t), n = w.fromStepping(s); Object.keys(O).forEach((function (e) { "hover" === e.split(".")[0] && O[e].forEach((function (e) { e.call(ve, n) })) })) } function ie(e, t) { O[e] = O[e] || [], O[e].push(t), "update" === e.split(".")[0] && i.forEach((function (e, t) { re("update", t) })) } function oe(e) { var t = e && e.split(".")[0], s = t ? e.substring(t.length) : e; Object.keys(O).forEach((function (e) { var n = e.split(".")[0], i = e.substring(n.length); t && t !== n || s && s !== i || function (e) { return e === $.aria || e === $.tooltips }(i) && s !== i || delete O[e] })) } function re(e, s, n) { Object.keys(O).forEach((function (i) { var o = i.split(".")[0]; e === o && O[i].forEach((function (e) { e.call(ve, A.map(t.format.to), s, A.slice(), n || !1, _.slice(), ve) })) })) } function le(e, s, n, o, r, l, a) { var c; return i.length > 1 && !t.events.unconstrained && (o && s > 0 && (c = w.getAbsoluteDistance(e[s - 1], t.margin, !1), n = Math.max(n, c)), r && s < i.length - 1 && (c = w.getAbsoluteDistance(e[s + 1], t.margin, !0), n = Math.min(n, c))), i.length > 1 && t.limit && (o && s > 0 && (c = w.getAbsoluteDistance(e[s - 1], t.limit, !1), n = Math.min(n, c)), r && s < i.length - 1 && (c = w.getAbsoluteDistance(e[s + 1], t.limit, !0), n = Math.max(n, c))), t.padding && (0 === s && (c = w.getAbsoluteDistance(0, t.padding[0], !1), n = Math.max(n, c)), s === i.length - 1 && (c = w.getAbsoluteDistance(100, t.padding[1], !0), n = Math.min(n, c))), a || (n = w.getStep(n)), !((n = S(n)) === e[s] && !l) && n } function ae(e, s) { var n = t.ort; return (n ? s : e) + ", " + (n ? e : s) } function ce(e, s, n, i, o) { var r = n.slice(), l = i[0], a = t.events.smoothSteps, c = [!e, e], u = [e, !e]; i = i.slice(), e && i.reverse(), i.length > 1 ? i.forEach((function (e, t) { var n = le(r, e, r[e] + s, c[t], u[t], !1, a); !1 === n ? s = 0 : (s = n - r[e], r[e] = n) })) : c = u = [!0]; var d = !1; i.forEach((function (e, t) { d = pe(e, n[e] + s, c[t], u[t], !1, a) || d })), d && (i.forEach((function (e) { re("update", e), re("slide", e) })), null != o && re("drag", l)) } function ue(e, s) { return t.dir ? 100 - e - s : e } function de() { L.forEach((function (e) { var t = _[e] > 50 ? -1 : 1, s = 3 + (i.length + t * e); i[e].style.zIndex = String(s) })) } function pe(e, s, n, o, r, l) { return r || (s = le(_, e, s, n, o, !1, l)), !1 !== s && (function (e, s) { _[e] = s, A[e] = w.fromStepping(s); var n = "translate(" + ae(ue(s, 0) - D + "%", "0") + ")"; i[e].style[t.transformRule] = n, he(e), he(e + 1) }(e, s), !0) } function he(e) { if (o[e]) { var s = 0, n = 100; 0 !== e && (s = _[e - 1]), e !== o.length - 1 && (n = _[e]); var i = n - s, r = "translate(" + ae(ue(s, i) + "%", "0") + ")", l = "scale(" + ae(i / 100, "1") + ")"; o[e].style[t.transformRule] = r + " " + l } } function me(e, s) { return null === e || !1 === e || void 0 === e ? _[s] : ("number" == typeof e && (e = String(e)), !1 !== (e = t.format.from(e)) && (e = w.toStepping(e)), !1 === e || isNaN(e) ? _[s] : e) } function fe(e, s, n) { var i = v(e), o = void 0 === _[0]; s = void 0 === s || s, t.animate && !o && g(C, t.cssClasses.tap, t.animationDuration), L.forEach((function (e) { pe(e, me(i[e], e), !0, !1, n) })); var r = 1 === L.length ? 0 : 1; if (o && w.hasNoSize() && (n = !0, _[0] = 0, L.length > 1)) { var l = 100 / (L.length - 1); L.forEach((function (e) { _[e] = e * l })) } for (; r < L.length; ++r)L.forEach((function (e) { pe(e, _[e], !0, !0, n) })); de(), L.forEach((function (e) { re("update", e), null !== i[e] && s && re("set", e) })) } function ge(e) { if (void 0 === e && (e = !1), e) return 1 === A.length ? A[0] : A.slice(0); var s = A.map(t.format.to); return 1 === s.length ? s[0] : s } function Se(e) { var s = _[e], n = w.getNearbySteps(s), i = A[e], o = n.thisStep.step, r = null; if (t.snap) return [i - n.stepBefore.startValue || null, n.stepAfter.startValue - i || null]; !1 !== o && i + o > n.stepAfter.startValue && (o = n.stepAfter.startValue - i), r = i > n.thisStep.startValue ? n.thisStep.step : !1 !== n.stepBefore.step && i - n.stepBefore.highestStep, 100 === s ? o = null : 0 === s && (r = null); var l = w.countStepDecimals(); return null !== o && !1 !== o && (o = Number(o.toFixed(l))), null !== r && !1 !== r && (r = Number(r.toFixed(l))), [r, o] } b(a = C, t.cssClasses.target), 0 === t.dir ? b(a, t.cssClasses.ltr) : b(a, t.cssClasses.rtl), 0 === t.ort ? b(a, t.cssClasses.horizontal) : b(a, t.cssClasses.vertical), b(a, "rtl" === getComputedStyle(a).direction ? t.cssClasses.textDirectionRtl : t.cssClasses.textDirectionLtr), n = V(a, t.cssClasses.base), function (e, s) { var n = V(s, t.cssClasses.connects); i = [], (o = []).push(M(n, e[0])); for (var r = 0; r < t.handles; r++)i.push(j(s, r)), L[r] = r, o.push(M(n, e[r + 1])) }(t.connect, n), (d = t.events).fixed || i.forEach((function (e, t) { Z(f.start, e.children[0], ee, { handleNumbers: [t] }) })), d.tap && Z(f.start, n, te, {}), d.hover && Z(f.move, n, ne, { hover: !0 }), d.drag && o.forEach((function (e, s) { if (!1 !== e && 0 !== s && s !== o.length - 1) { var n = i[s - 1], r = i[s], l = [e], a = [n, r], c = [s - 1, s]; b(e, t.cssClasses.draggable), d.fixed && (l.push(n.children[0]), l.push(r.children[0])), d.dragAll && (a = i, c = L), l.forEach((function (t) { Z(f.start, t, ee, { handles: a, handleNumbers: c, connect: e }) })) } })), fe(t.start), t.pips && X(t.pips), t.tooltips && F(), oe("update" + $.aria), ie("update" + $.aria, (function (e, s, n, o, r) { L.forEach((function (e) { var s = i[e], o = le(_, e, 0, !0, !0, !0), l = le(_, e, 100, !0, !0, !0), a = r[e], c = String(t.ariaFormat.to(n[e])); o = w.fromStepping(o).toFixed(1), l = w.fromStepping(l).toFixed(1), a = w.fromStepping(a).toFixed(1), s.children[0].setAttribute("aria-valuemin", o), s.children[0].setAttribute("aria-valuemax", l), s.children[0].setAttribute("aria-valuenow", a), s.children[0].setAttribute("aria-valuetext", c) })) })); var ve = { destroy: function () { for (oe($.aria), oe($.tooltips), Object.keys(t.cssClasses).forEach((function (e) { E(C, t.cssClasses[e]) })); C.firstChild;)C.removeChild(C.firstChild); delete C.noUiSlider }, steps: function () { return L.map(Se) }, on: ie, off: oe, get: ge, set: fe, setHandle: function (e, t, s, n) { if (!((e = Number(e)) >= 0 && e < L.length)) throw new Error("noUiSlider: invalid handle number, got: " + e); pe(e, me(t, e), !0, !0, n), re("update", e), s && re("set", e) }, reset: function (e) { fe(t.start, e) }, disable: function (e) { null != e ? (i[e].setAttribute("disabled", ""), i[e].handle.removeAttribute("tabindex")) : (C.setAttribute("disabled", ""), i.forEach((function (e) { e.handle.removeAttribute("tabindex") }))) }, enable: function (e) { null != e ? (i[e].removeAttribute("disabled"), i[e].handle.setAttribute("tabindex", "0")) : (C.removeAttribute("disabled"), i.forEach((function (e) { e.removeAttribute("disabled"), e.handle.setAttribute("tabindex", "0") }))) }, __moveHandles: function (e, t, s) { ce(e, t, _, s) }, options: s, updateOptions: function (e, n) { var i = ge(), o = ["margin", "limit", "padding", "range", "animate", "snap", "step", "format", "pips", "tooltips"]; o.forEach((function (t) { void 0 !== e[t] && (s[t] = e[t]) })); var r = se(s); o.forEach((function (s) { void 0 !== e[s] && (t[s] = r[s]) })), w = r.spectrum, t.margin = r.margin, t.limit = r.limit, t.padding = r.padding, t.pips ? X(t.pips) : W(), t.tooltips ? F() : I(), _ = [], fe(h(e.start) ? e.start : i, n) }, target: C, removePips: W, removeTooltips: I, getPositions: function () { return _.slice() }, getTooltips: function () { return l }, getOrigins: function () { return i }, pips: X }; return ve } function ie(e, t) { if (!e || !e.nodeName) throw new Error("noUiSlider: create requires a single element, got: " + e); if (e.noUiSlider) throw new Error("noUiSlider: Slider was already initialized."); var s = ne(e, se(t), t); return e.noUiSlider = s, s } document.addEventListener("DOMContentLoaded", (function () { })); let oe = !1; function re(e, t = !1) { if (!e) return; let s = document.cookie.match(new RegExp("(?:^|; )" + e.replace(/([.$?*|{}()\[\]\\\/+^])/g, "\\$1") + "=([^;]*)")); if (s) { let e = decodeURIComponent(s[1]); if (t) try { return JSON.parse(e) } catch (e) { } return e } } function le(e, t, s = { path: "/" }) { if (!e) return; (s = s || {}).expires instanceof Date && (s.expires = s.expires.toUTCString()), t instanceof Object && (t = JSON.stringify(t)); let n = encodeURIComponent(e) + "=" + encodeURIComponent(t); for (let e in s) { n += "; " + e; let t = s[e]; !0 !== t && (n += "=" + t) } document.cookie = n } setTimeout((() => { if (oe) { let e = new Event("windowScroll"); window.addEventListener("scroll", (function (t) { document.dispatchEvent(e) })) } }), 0), window.onload = function () { window.addEventListener("click", (function (e) { let t = e.target; if (t.closest(".button-reset")) { let e = document.querySelector(".button-reset"), t = (document.querySelectorAll(".item-setting .item-setting__slider"), 0); const s = [55, 10, 10, 10, 10, 5]; for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { const n = ce[e]; t < s.length && (n.percent = s[t], t++) } !function () { for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { const t = ce[e]; document.querySelector(`.item-setting-${e}`).querySelector(".item-setting__slider").noUiSlider.set([t.percent]) } le("jugs", ce) }(), de(), fe("good", e) } if (t.closest(".button-reset-money")) { let e = document.querySelector(".button-reset-money"); for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { ce[e].money = 0 } fe("good", e), de(), ue = {}, le("history", ue), he() } if (t.closest(".button-apply")) { const e = document.querySelector(".button-apply"), t = document.querySelectorAll(".item-setting__slider"), s = document.querySelectorAll(".item-setting"); let n = 0; t.forEach((e => { n += Number(e.noUiSlider.get()) })), 100 === n ? (fe("good", e), s.forEach((e => { const t = e.querySelector(".item-setting__slider"), s = Array.from(e.classList).find((e => e.startsWith("item-setting-"))); if (s) { const e = s.replace("item-setting-", ""); ce[e].percent = Number(t.noUiSlider.get()) } })), de()) : fe("error", e) } })) }; let ae = 0, ce = { monthly: { money: 0, percent: 55, title: "Ежемесячные траты" }, entertainment: { money: 0, percent: 10, title: "Развлечения" }, saving: { money: 0, percent: 10, title: "Накопления" }, development: { money: 0, percent: 10, title: "Саморазвитие" }, safety: { money: 0, percent: 10, title: "Подушка безопасности" }, present: { money: 0, percent: 5, title: "Подарки" } }, ue = {}; function de() { let e = document.querySelector(".jugs__items"); e.innerHTML = ""; for (const t in ce) if (Object.prototype.hasOwnProperty.call(ce, t)) { const s = ce[t]; let n = `\n        <div class="jugs__item item-jugs item-jugs-${t}">\n            <div class="item-jugs__title">${s.title}</div>\n            <div class="item-jugs__body">\n              <img class="item-jugs__img" src="img/icon/jar.svg" alt="">\n              <div class="item-jugs__body-top">\n                <span class="item-jugs__body-top-percent">${s.percent}%</span>\n                <br>\n              </div>\n              <div class="item-jugs__body-bottom">\n                <span class="item-jugs__body-bottom-text">осталось:</span>\n                <br><span class="item-jugs__body-bottom-money">${s.money} p.</span>\n              </div>\n            </div>\n        </div>\n      `; e.innerHTML += n } pe(), he(), le("jugs", ce), le("history", ue) } function pe() { const e = document.querySelector(".setting__counter span"), t = document.querySelector(".setting__list"); t.innerHTML = ""; const s = document.createDocumentFragment(); for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { const t = ce[e], n = document.createElement("li"); n.className = `menu__item setting__item item-setting item-setting-${e}`, n.innerHTML = `\n              <div class="item-setting__title">${t.title}</div>\n              <div class="item-setting__slider "></div>\n              <div class="item-setting__value">Значение: <span>${t.percent}%</span></div>\n            `, s.appendChild(n) } t.appendChild(s); for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { const t = ce[e], s = document.querySelector(`.item-setting-${e}`), n = s.querySelector(".item-setting__slider"), i = s.querySelector(".item-setting__value span"); ie(n, { start: [t.percent], step: 1, range: { min: [0], max: [100] } }), n.noUiSlider.on("update", (function (e, t) { i.innerHTML = `${Number(e[t]).toFixed(0)}%` })) } let n = document.querySelectorAll(".item-setting__slider"); function i() { let t = Array.from(n).reduce(((e, t) => e + Number(t.noUiSlider.get())), 0); e.innerHTML = t } n.forEach((e => { e.noUiSlider.on("update", i) })) } function he() { const e = new Date, t = `${e.getDate()}/${e.getMonth() + 1}`, s = document.querySelector(".history__list"), n = document.createDocumentFragment(); for (const e in ue) if (Object.prototype.hasOwnProperty.call(ue, e)) { const s = ue[e]; let i; if (console.log(s), e === t) i = "Сегодня"; else { const [t, s] = e.split("/").map(Number), n = new Date; n.setDate(t), n.setMonth(s - 1); const o = { day: "numeric", month: "long" }; i = n.toLocaleDateString("ru-RU", o) } const o = s.map((e => { let t = "-" == e.amount; const s = t ? "expense" : "income", n = t ? e.amount : `+${e.amount}`; return `<div class="item-history__element ${s}"><span>${e.jug}</span> ${n.split("").reverse().map(((e, t) => t % 3 != 2 ? e : ` ${e}`)).reverse().join("")}</div>` })).join(""), r = `\n                <div class="item-history__data">${i}</div>\n                <div class="item-history__body">\n                    ${o}\n                </div>\n            `, l = document.createElement("li"); l.innerHTML = r, l.classList.add("history__item", "item-history"), n.appendChild(l) } s.innerHTML = "", s.appendChild(n) } function me(e, t, s) { ue.hasOwnProperty(e) ? ue[e].push({ amount: t, jug: s }) : ue[e] = [{ amount: t, jug: s }], console.log(ue), le("history", ue), he() } function fe(e, t) { t.classList.remove("good", "error"), setTimeout((() => { t.classList.add(e) }), 0) } function ge(e) { e.preventDefault(), function (e, t) { if ("moneyInput" in e) if (e.moneyInput = Number(e.moneyInput), "unspecified" == e.jugs) if (e.moneyInput >= 100) { setTimeout((() => { fe("good", t) }), 0), ae += e.moneyInput, ae = ae.toFixed(2), function () { for (const e in ce) if (Object.prototype.hasOwnProperty.call(ce, e)) { const t = ce[e]; t.money += ae * (t.percent / 100), t.money = parseFloat(t.money.toFixed(2)) } ae = 0, de() }(); let s = new Date; me(`${s.getDate()}/${s.getMonth() + 1}`, e.moneyInput, e.jugs) } else setTimeout((() => { fe("error", t) }), 0); else if (e.jugs) { ce[e.jugs].money += e.moneyInput, setTimeout((() => { fe("good", t) }), 0), de(); let s = new Date; me(`${s.getDate()}/${s.getMonth() + 1}`, e.moneyInput, e.jugs) } else setTimeout((() => { fe("error", t) }), 0); if ("moneyOutput" in e) if (e.moneyOutput = Number(e.moneyOutput), ce[e.jugs].money >= e.moneyOutput) { ce[e.jugs].money -= e.moneyOutput, setTimeout((() => { fe("good", t) }), 0), de(); let s = new Date; me(`${s.getDate()}/${s.getMonth() + 1}`, `-${e.moneyOutput}`) } else setTimeout((() => { fe("error", t) }), 0) }(Object.fromEntries(new FormData(e.target).entries()), e.submitter) } re("jugs") && (ce = re("jugs", !0)), re("history") && (ue = re("history", !0)), console.log(ue), de(), pe(), document.querySelector(".money-form-input").addEventListener("submit", ge), document.querySelector(".money-form-output").addEventListener("submit", ge), window.FLS = !0, function (e) { let t = new Image; t.onload = t.onerror = function () { e(2 == t.height) }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA" }((function (e) { let t = !0 === e ? "webp" : "no-webp"; document.documentElement.classList.add(t) })), document.querySelector(".icon-menu") && document.addEventListener("click", (function (e) { i && e.target.closest(".icon-menu") && (o(), document.documentElement.classList.toggle("menu-open")) })), document.querySelector(".icon-money") && document.addEventListener("click", (function (e) { i && e.target.closest(".icon-money") && (o(), document.documentElement.classList.toggle("money-open")) })), document.querySelector(".icon-history") && document.addEventListener("click", (function (e) { i && e.target.closest(".icon-history") && (o(), document.documentElement.classList.toggle("history-open")) })), function (e = { viewPass: !1 }) { const t = document.querySelectorAll("input[placeholder],textarea[placeholder]"); t.length && t.forEach((e => { e.hasAttribute("data-placeholder-nohide") || (e.dataset.placeholder = e.placeholder) })), document.body.addEventListener("focusin", (function (e) { const t = e.target; "INPUT" !== t.tagName && "TEXTAREA" !== t.tagName || (t.dataset.placeholder && (t.placeholder = ""), t.hasAttribute("data-no-focus-classes") || (t.classList.add("_form-focus"), t.parentElement.classList.add("_form-focus")), a.removeError(t)) })), document.body.addEventListener("focusout", (function (e) { const t = e.target; "INPUT" !== t.tagName && "TEXTAREA" !== t.tagName || (t.dataset.placeholder && (t.placeholder = t.dataset.placeholder), t.hasAttribute("data-no-focus-classes") || (t.classList.remove("_form-focus"), t.parentElement.classList.remove("_form-focus")), t.hasAttribute("data-validate") && a.validateInput(t)) })), e.viewPass && document.addEventListener("click", (function (e) { let t = e.target; if (t.closest('[class*="__viewpass"]')) { let e = t.classList.contains("_viewpass-active") ? "password" : "text"; t.parentElement.querySelector("input").setAttribute("type", e), t.classList.toggle("_viewpass-active") } })) }({ viewPass: !1 }) })();